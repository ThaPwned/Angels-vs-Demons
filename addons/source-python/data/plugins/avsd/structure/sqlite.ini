create players = "CREATE TABLE IF NOT EXISTS players (id INTEGER PRIMARY KEY AUTOINCREMENT, uniqueid VARCHAR(64) UNIQUE, name VARCHAR(64), cur_demon VARCHAR(64), cur_angel VARCHAR(64), cur_demon_vessel INTEGER DEFAULT 0, cur_angel_vessel INTEGER DEFAULT 0, cash INTEGER DEFAULT 0, crystal INTEGER DEFAULT 0, quest_sort INTEGER DEFAULT 0)"
create classes = "CREATE TABLE IF NOT EXISTS classes (id INTEGER PRIMARY KEY AUTOINCREMENT, name VARCHAR(64), playerid INTEGER, xp INTEGER DEFAULT 0, level INTEGER DEFAULT 1, point INTEGER DEFAULT 1, ascend INTEGER DEFAULT 0, slot INTEGER DEFAULT 5)"
create skills = "CREATE TABLE IF NOT EXISTS skills (id INTEGER PRIMARY KEY AUTOINCREMENT, name VARCHAR(64), playerid INTEGER, owner VARCHAR(64), level INTEGER DEFAULT 0)"
create items = "CREATE TABLE IF NOT EXISTS items (id INTEGER PRIMARY KEY AUTOINCREMENT, name VARCHAR(64), playerid INTEGER, owner VARCHAR(64), quality INTEGER DEFAULT 0, equipped INTEGER DEFAULT 0, count INTEGER DEFAULT 0)"
create quests = "CREATE TABLE IF NOT EXISTS quests (id INTEGER PRIMARY KEY AUTOINCREMENT, quest_name VARCHAR(64), playerid INTEGER, completed INTEGER DEFAULT 0, rewarded INTEGER DEFAULT 0)"
create requirements = "CREATE TABLE IF NOT EXISTS requirements (id INTEGER PRIMARY KEY AUTOINCREMENT, quest_name VARCHAR(64), playerid INTEGER, requirement_name VARCHAR(64), progress INTEGER DEFAULT 0)"
create mails = "CREATE TABLE IF NOT EXISTS mails (id INTEGER PRIMARY KEY AUTOINCREMENT, playerid INTEGER, source INTEGER, message VARCHAR(128), status INTEGER)"
create mail rewards = "CREATE TABLE IF NOT EXISTS mail_rewards (id INTEGER PRIMARY KEY AUTOINCREMENT, mailid INTEGER, playerid INTEGER, name VARCHAR(16), value INTEGER)"

player get = "SELECT id, name, cur_demon, cur_angel, cur_demon_vessel, cur_angel_vessel, cash, crystal, quest_sort FROM players WHERE uniqueid = ?"
player insert = "INSERT INTO players (uniqueid, name, cur_demon, cur_angel, cur_demon_vessel, cur_angel_vessel, cash, crystal, quest_sort) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)"
player update = "UPDATE players SET name = ?, cur_demon = ?, cur_angel = ?, cur_demon_vessel = ?, cur_angel_vessel = ?, cash = ?, crystal = ?, quest_sort = ? WHERE id = ?"

class get = "SELECT name, xp, level, point, ascend, slot FROM classes WHERE playerid = ?"
class insert = "INSERT INTO classes (name, playerid, xp, level, point, ascend, slot) VALUES (?, ?, ?, ?, ?, ?, ?)"
class update = "UPDATE classes SET xp = CASE %s END, level = CASE %s END, point = CASE %s END, ascend = CASE %s END, slot = CASE %s END WHERE playerid = ?"
class join = "WHEN name = '%s' THEN %s"

skill get = "SELECT name, owner, level FROM skills WHERE playerid = ?"
skill insert = "INSERT INTO skills (name, playerid, owner, level) VALUES (?, ?, ?, ?)"
skill update = "UPDATE skills SET level = CASE %s END WHERE playerid = ?"
skill join = "WHEN name = '%s' THEN %s"

item get = "SELECT name, owner, quality, equipped, count FROM items WHERE playerid = ? AND count IS NOT NULL"
item insert = "INSERT INTO items (name, playerid, owner, quality, equipped, count) VALUES (?, ?, ?, ?, ?, ?)"
item update = "UPDATE items SET equipped = CASE %s END, count = CASE %s END WHERE playerid = ?"
item join = "WHEN name = '%s' AND owner = '%s' AND quality = %s THEN %s"
item cleanup = "DELETE FROM items WHERE count IS NULL"
# NOTE: count is NULL if it was not found in the 'item insert' statement from a CASE END

quest get = "SELECT quest_name, completed, rewarded FROM quests WHERE playerid = ?"
quest insert = "INSERT INTO quests (quest_name, playerid, completed, rewarded) VALUES (?, ?, ?, ?)"
quest update = "UPDATE quests SET completed = CASE %s END, rewarded = CASE %s END WHERE playerid = ?"
quest join = "WHEN quest_name = '%s' THEN %s"
quest reset = "UPDATE quests SET completed = 0, rewarded = 0 WHERE quest_name = ?"

requirement get = "SELECT quest_name, requirement_name, progress FROM requirements WHERE playerid = ?"
requirement insert = "INSERT INTO requirements (quest_name, playerid, requirement_name, progress) VALUES (?, ?, ?, ?)"
requirement update = "UPDATE requirements SET progress = CASE %s END WHERE playerid = ?"
requirement join = "WHEN requirement_name = '%s' AND quest_name = '%s' THEN %s"
requirement reset = "UPDATE requirements SET progress = 0 WHERE quest_name = ?"

mail get = "SELECT id, source, message, status FROM mails WHERE playerid = ?"
mail insert = "INSERT INTO mails (playerid, source, message, status) VALUES (?, ?, ?, ?)"
mail update = "UPDATE mails SET status = CASE %s END WHERE playerid = ?"
mail join = "WHEN id = %s THEN %s"
mail delete = "DELETE FROM mails WHERE id IN (%s)"

mail reward get = "SELECT mailid, name, value FROM mail_rewards WHERE playerid = ?"
mail reward insert = "INSERT INTO mail_rewards (mailid, playerid, name, value) VALUES (?, ?, ?, ?)"
mail reward delete = "DELETE FROM mail_rewards WHERE mailid IN (%s)"
